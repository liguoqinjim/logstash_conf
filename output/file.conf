input {
    file {
        path => ["/opt/logstash_data/test_log"]
        type => "system"
        start_position => "beginning"
    }
}

output{
    file {
        path => "/opt/logstash_data/%{+yyyy}/%{+MM}/%{+dd}/%{host}.log.gz"
        message_format => "%{message}"
        gzip => true
    }
}